# TerraPi Configuration
# All settings in one file

mqtt:
  host: plantescarnivores.net
  port: 1883
  user: ${MQTT_USER}
  password: ${MQTT_PASSWORD}

log_interval: 5

# Sensor definitions
# type: class name in terrapi.sensor module
# pin: GPIO pin number (BCM mode)
sensors:
  dht22:
    type: DHT22
    pin: 17

# Control definitions  
# type: class name in terrapi.control module
# pin: GPIO pin number (BCM mode)
controls:
  cooling_system:
    type: Relay
    pin: 7
  light:
    type: Relay
    pin: 8

# Mode definitions
# Each mode defines the state of each control
# Controls can be:
#   - boolean: simple on/off (e.g., light: true)
#   - thermostat: temperature-based control with the following fields:
#       type: thermostat
#       enabled: true/false
#       target_temperature: float (degrees Celsius)
#       hysteresis: float (Â± tolerance to prevent rapid cycling)
#       sensor: sensor name from sensors section
#       action: 'cooling' or 'heating'
modes:
  day:
    light: true
    cooling_system:
      type: thermostat
      enabled: true
      target_temperature: 25.0
      hysteresis: 1.0
      sensor: dht22
      action: cooling
  night:
    light: false
    cooling_system:
      type: thermostat
      enabled: true
      target_temperature: 22.0
      hysteresis: 1.0
      sensor: dht22
      action: cooling
  "off":
    light: false
    cooling_system:
      type: thermostat
      enabled: false
      target_temperature: 25.0
      hysteresis: 1.0
      sensor: dht22
      action: cooling

# Planning/scheduling configuration
planning:
  active: true
  default_mode: "off"
  periods:
    day:
      start: "07:00"
      end: "17:00"
      mode: day
    night:
      start: "22:00"
      end: "07:00"
      mode: night
    "off":
      start: "17:00"
      end: "22:00"
      mode: "off"
